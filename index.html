<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const WINNING_MSG = 'You won!';
        const LOSING_MSG = 'You lost!';
        const DRAW_MSG = "It's a draw";
        
        function getComputerChoice(){
            rand = Math.random()*3;
            if(rand > 2)        return 'ROCK';
            else if(rand > 1)   return 'PAPER';
            else                return 'SCISSOR';
        }

        function result(player_choice, comp_choice){
            player_choice = player_choice.toUpperCase();
            console.log(player_choice, comp_choice);
            if(player_choice === 'ROCK'){
                if(comp_choice === 'ROCK')          return 'draw';
                else if(comp_choice === 'PAPER')    return 'lose';
                else                                return 'win';
            }

            else if(player_choice === 'PAPER'){
                if(comp_choice === 'ROCK')          return 'win';
                else if(comp_choice === 'PAPER')    return 'draw';
                else                                return 'lose';
            }

            else{
                if(comp_choice === 'ROCK')          return 'lose';
                else if(comp_choice === 'PAPER')    return 'win';
                else                                return 'draw';
            }
        }

        function game(){
            let player_score = 0;
            let comp_score = 0;
            for(i = 0; i < 5; i++){
                let player_choice = prompt("Chose your move!");
                const outcome = result(player_choice, getComputerChoice());
                if(outcome === 'win'){
                    player_score++;
                    alert(WINNING_MSG);
                }   
                else if(outcome === 'lose'){
                    comp_score++;
                    alert(LOSING_MSG);
                } 
                else alert(DRAW_MSG);
            }
            alert('Final score: '+player_score+'|'+comp_score);
        }
        game();
    </script>
</body>
</html>